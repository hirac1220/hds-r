## 長谷川式認知症判定サイト
以下主な構成です。
* DBフォルダ: gs_bm_table.sql
* index.php：認知症判定サイト
* admin.php：判定結果一覧表示
* phpフォルダ：
    - insert.php：DB登録、スコア判定とレーダチャート表示
	- message.php：指定IDを元にDB読み出し、メッセージ作成
	- sendgrid/sendgrid.php：SendGrid APIでメールを送信
	- func.php：XSS対策
* その他cs/jsフォルダ内にMaterialize/Chart.js用ファイル。

## 仕様
* Dev5 市場さんより長谷川式認知症判定サイト作れないか？と依頼があったので、作ってみました。
[長谷川式認知症スケール](https://info.ninchisho.net/check)
* マテリアルデザインを使用してみました。
* 判定はラジオ釦とチェックボックスで実現しました。
* チェックボックス未チェックの場合はデフォルト値[0]を設定し、phpメッセージ表示を回避しています。
* DB登録前にスコアを算出し、スコア判定結果とスコアを正規化したものでレーダチャート表示しています(chart.js)。
* スコアに応じてセル色分けしています(赤：認知症の疑い有, 青：特に問題なし)。
* SendGrid APIを利用し、選択したNo.の顧客email宛に送信可能にしています。
* email送信内容はそれぞれのニックネーム、スコアに応じて変更、お住まいの地域の医療連携のGoogle検索結果を表示します。